/* CATEGORY ARCHIVES */

/* Intro panel */
.category-intro {
  @include clearfix;
  margin: 3em 0 4em 0;
  text-align: center;

  img {
    border-radius: 50%;
    margin: 0 auto;
    width: 50%;

    @include tablet {
      float: left;
      margin-right: 2em !important; /* Currently a necessary evil */
      width: 25%;
    }
  }

  h1 {
    clear: none;
    text-align: center;
  }

  i {
    display: inline-block;
    margin: -8px 5px;
    height: .8em;
    vertical-align: top;
    opacity: .25;
    font-size: 1.8em;
  }

  p {
    line-height: 1.8;
    text-align: left;
  }
} // .category-intro


/* Category colour-coding */
.category-intro.behind-the-curtain h1, .behind-the-curtain a h2, .behind-the-curtain .prev_next a, .behind-the-curtain .post-excerpt p:not(.read-more) a { color: #a1414c; }
.behind-the-curtain .read-more a { background-color: #a1414c; }

.category-intro.customer-love h1, .customer-love a h2, .customer-love .prev_next a, .customer-love .post-excerpt p:not(.read-more) a { color: #77a2af; }
.customer-love .read-more a { background-color: #77a2af; }

.category-intro.design-resources h1, .design-resources a h2, .design-resources .prev_next a, .design-resources .post-excerpt p:not(.read-more) a { color: #5b4c70; }
.design-resources .read-more a { background-color: #5b4c70; }

.category-intro.shopping-guides h1, .shopping-guides a h2, .shopping-guides .prev_next a, .shopping-guides .post-excerpt p:not(.read-more) a { color: #838b64; }
.shopping-guides .read-more a { background-color: #838b64; }


// Mixin used to generate series styling on Shopping Guides page
@mixin generate-series-styles($slug, $color) {
  &.#{$slug} {
    background-image: url('series/#{$slug}/#{$slug}-title-image.jpg');

    h2, .read-more a {
      background-color: $color;
    }

    &:hover h2, &:hover .read-more a {
      background-color: darken($color, 10%);
    }
  }
}

/* Shopping Guide page */
.category-shopping-guides {

  .subcategory {
    -webkit-font-smoothing: antialiased;
    -webkit-text-stroke: 0;
    background: #fff;
    border: 10px solid #fff;
    box-shadow: 1px 1px 2px 1px rgba(0,0,0,.25);
    display: block;
    height: 300px;
    margin: 20px 0;
    position: relative;
    width: 100%;

    .div-link {
      display: block;
      height: 100%;
      left: 0;
      position: absolute;
      top: 0;
      width: 100%;
    }

    h2 {
      box-shadow: 1px 1px 2px 1px rgba(0,0,0,.25);
      color: #fff;
      left: -25px;
      padding: 10px 14px;
      position: absolute;
      top: 15px;
    }

    .badge {
      background: none;
      box-shadow: none;
      height: 100px;
      position: absolute;
      right: -50px;
      top: 20px;
      width: 100px;
    }

    .read-more {
      bottom: 0;
      position: absolute;
      right: 25px;

      a {
        color: #fff;
        padding: 10px 30px;
      }
    } // .read-more

    @include generate-series-styles("valentines-day", $color__valentines-day);
    @include generate-series-styles("spring-decorating", $color__spring-decorating);
    @include generate-series-styles("mothers-day", $color__mothers-day);
    @include generate-series-styles("summer", $color__summer);
    @include generate-series-styles("back-to-school", $color__back-to-school);
    @include generate-series-styles("fall", $color__fall);
    @include generate-series-styles("thanksgiving", $color__thanksgiving);
    @include generate-series-styles("holidays", $color__holidays);

  } //.subcategory
} // .category-shopping-guides


/* Design Resources page */

.category-design-resources {
  overflow-x: hidden; /* Ensure the panel doesn't cause horizontal scrolling */
}

.subcategory-expander-link {
  @include font-size(14);
  background: #e6e0c9 url('images/seamless-paper-texture.jpg');
  border-bottom: 2px solid #e6e0c9;
  box-shadow: 0 -1px 3px rgba(0,0,0,.15);
  clip:rect(0px, 210px, 37px, 0px);
  color: $brown !important;
  display: inline-block;
  letter-spacing: 1px;
  line-height: 1;
  margin: -16px 0 20px 0;
  padding: 10px 15px;
  position: absolute;
  text-decoration: none;
  text-transform: uppercase;
  z-index: 400;

  i {
    background: #fff8dc;
    border-radius: 50%;
    border: 1px solid $brown;
    color: $brown;
    display: inline-block;
    height: 15px;
    margin-right: 7px;
    padding-top: 1px;
    text-align: center;
    vertical-align: -3px;
    width: 15px;
  }
}

.subcategory-expander {
  @include clearfix;
  background-size: 200px 200px;
  background: #e6e0c9 url('images/seamless-paper-texture.jpg');
  border-bottom: 1px solid $brown;
  box-shadow: 0 -1px 3px rgba(0,0,0,.15);
  @include font-size(14);
  line-height: 1.8;
  margin: 2em -100% 6em;
  height: 10px;
  position: relative;
  top: 20px;
  width: 300%;

  div {
    margin: 0 auto;
    width: 33%;
  }

  section {
    float: left;
    margin: 1em 0;

    &:first-of-type {
      margin-right: 2.99em;
    }
  }

  h2 {
    padding: .25em;
    border-bottom: 1px solid desaturate(lighten($brown, 50%), 30%);
    color: $brown;
    text-transform: uppercase;
    letter-spacing: 2px;
    @include font-size(16);

    i {
      display: inline-block;
      margin-bottom: -2px;
      margin-right: 5px;
      vertical-align: bottom;
      //@include font-size(14);
    }
  }

  ul {
    float: left;
    width: 190px;
    list-style-type: none;
    margin: 1em 0;
    padding: 0;
  }

  li {
    color: $brown;
    margin: 4px 0;
  }

  a {
    text-decoration: none;
  }
} // .subcategory-expander


